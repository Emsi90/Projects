(function(){
    
    var menuBackground = document.querySelector('.background-menu');
    
    window.addEventListener('scroll', function(){
        
        if(scrollY > 100) {
            menuBackground.style.background = '#f38181';
        } else {
            menuBackground.style.background = 'transparent';
        }
        
    }, false);
    
})();

(function(){
    
    var hamburgerButton = document.querySelector('.hamburger'),
        hamburgerIcon = document.querySelector('.hamburger__icon'),
        slideMenu = document.querySelector('.menu__slide-menu');
    
    hamburgerButton.onclick = function() {
        
        hamburgerIcon.classList.toggle('open');
        slideMenu.classList.toggle('open');
        
    };
    
    
})();

(function(){
    
    var slides = document.querySelectorAll('.slider__slide');
    var timeBars = document.querySelectorAll('.slider__progressBar');
    
    
    [].forEach.call(slides, function(slide) {
       
        var currentIndex = 0;
        var width = 100;
        
        function switchImg() {

            slide.style.left = -width * currentIndex + '%';

        }

        function progressBar() {

            var barWidth = 0;
            var timeToProgress = setInterval(function() {

                barWidth += 1;

                if(barWidth > 100) {
                    clearInterval(timeToProgress);
                } else {
                    timeBars[currentIndex].value = barWidth;
                }

            }, 40);

        }

        progressBar();

        var tickTock = setInterval(function() {

            progressBar();
            timeBars[currentIndex].value = 0;

            currentIndex++;
            switchImg();

            if(currentIndex > slides.length - 1) {
                slide.style.left = 0;
                currentIndex = 0;
            }

        }, 4001);
    
        
    });
    
    
})();